{"ast":null,"code":"import _defineProperty from \"C:\\\\Nghuytan\\\\KLTN\\\\dApp\\\\land-registry\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Nghuytan\\\\KLTN\\\\dApp\\\\land-registry\\\\client\\\\src\\\\components\\\\user.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport axios from 'axios';\nimport './user.css';\n\nclass User extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.transferProperty = async (surveynumber, ownerAddress) => {\n      const _this$props = this.props,\n            accounts = _this$props.accounts,\n            contract = _this$props.contract;\n      await contract.methods.changeOwnership(surveynumber, ownerAddress).send({\n        from: accounts[0]\n      });\n    };\n\n    this.givePerms = async (surveynumber, newOwner) => {\n      const _this$props2 = this.props,\n            accounts = _this$props2.accounts,\n            contract = _this$props2.contract;\n      await contract.methods.givePermission(surveynumber, newOwner).send({\n        from: accounts[0]\n      });\n    };\n\n    this.removePerms = async surveynumber => {\n      const _this$props3 = this.props,\n            accounts = _this$props3.accounts,\n            contract = _this$props3.contract;\n      await contract.methods.notForSale(surveynumber).send({\n        from: accounts[0]\n      });\n    };\n\n    this.handleInput = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.update = () => {\n      axios.post('http://localhost:5000/api/user/update/' + this.props.address, {\n        name: this.state.name,\n        phone: this.state.phone,\n        email: this.state.email,\n        cccd: this.state.cccd\n      }).then(res => {\n        console.log(res.data);\n        this.props.updateUserInfo(res.data);\n      });\n    };\n\n    this.search = () => {\n      axios.get('http://localhost:5000/api/properties/' + this.state.survey).then(res => {\n        console.log(res);\n        this.setState({\n          searchres: res.data,\n          search: false\n        });\n      });\n    };\n\n    this.request = () => {\n      axios.post('http://localhost:5000/api/properties/request/' + this.state.searchres._id, {\n        addressrequester: this.props.address\n      }).then(res => {\n        this.setState({\n          requestssent: res.data\n        });\n      });\n    };\n\n    this.approve = async index => {\n      await this.givePerms(this.state.requestsrec[index].surveynumber, this.state.requestsrec[index].requester);\n      axios.post('http://localhost:5000/api/user/approverequests/' + this.state.requestsrec[index].surveynumber, {\n        address: this.props.address,\n        addressrequester: this.state.requestsrec[index].requester\n      }).then(res => {\n        this.setState({\n          requestsrec: res.data\n        });\n      });\n    };\n\n    this.reject = index => {\n      axios.post('http://localhost:5000/api/user/rejectrequests/' + this.state.requestsrec[index].surveynumber, {\n        address: this.props.address,\n        addressrequester: this.state.requestsrec[index].requester\n      }).then(res => {\n        this.setState({\n          requestsrec: res.data\n        });\n      });\n    };\n\n    this.withdraw = index => {\n      axios.post('http://localhost:5000/api/user/requestssent/' + this.state.requestssent[index].surveynumber, {\n        address: this.props.address,\n        owner: this.state.requestssent[index].owner\n      }).then(res => {\n        this.setState({\n          requestssent: res.data\n        });\n      });\n    };\n\n    this.buy = async index => {\n      await this.transferProperty(this.state.requestssent[index].surveynumber, this.state.requestssent[index].owner);\n      axios.post('http://localhost:5000/api/properties/transfer/' + this.state.requestssent[index].surveynumber, {\n        addressto: this.props.address,\n        addressfrom: this.state.requestssent[index].owner\n      }).then(res => {\n        console.log(res.data);\n        let propertiesList = this.state.propertiesList;\n        propertiesList.push(res.data);\n        let requestssent = this.state.requestssent;\n        requestssent.splice(index, 1);\n        this.setState({\n          propertiesList,\n          requestssent\n        });\n      });\n    };\n\n    this.deletereqsent = index => {\n      axios.post('http://localhost:5000/api/user/delrequestssent/' + this.state.requestssent[index].surveynumber, {\n        address: this.props.address,\n        owner: this.state.requestssent[index].owner\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          requestssent: res.data\n        });\n      });\n    };\n\n    this.sale = async index => {\n      if (this.state.propertiesList[index].sale) {\n        await this.removePerms(this.state.propertiesList[index].surveynumber);\n      }\n\n      axios.post('http://localhost:5000/api/properties/sale/' + this.state.propertiesList[index].surveynumber, {\n        address: this.props.address\n      }).then(res => {\n        let propertiesList = this.state.propertiesList;\n\n        if (!this.state.propertiesList[index].sale) {\n          propertiesList[index].sale = res.data;\n          this.setState({\n            propertiesList\n          });\n        } else {\n          console.log(res.data);\n          propertiesList[index].sale = false;\n          this.setState({\n            requestsrec: res.data,\n            propertiesList\n          });\n        }\n      });\n    };\n\n    this.state = _objectSpread({}, this.props.userinfo, {\n      propertiesList: [],\n      search: true,\n      survey: \"\"\n    });\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/api/properties/user/' + this.props.address).then(res => {\n      console.log(res);\n      this.setState({\n        propertiesList: res.data\n      });\n    });\n  }\n\n  changeDetect() {\n    let _this$props$userinfo = this.props.userinfo,\n        phone = _this$props$userinfo.phone,\n        name = _this$props$userinfo.name,\n        cccd = _this$props$userinfo.cccd,\n        email = _this$props$userinfo.email;\n    let _this$state = this.state,\n        updatedPhone = _this$state.phone,\n        updatedName = _this$state.name,\n        updatedcccd = _this$state.cccd,\n        updatedEmail = _this$state.email;\n\n    if (phone === updatedPhone && name === updatedName && cccd === updatedcccd && email === updatedEmail) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"superadmin user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Personal Details\"), React.createElement(\"input\", {\n      className: \"app-input\",\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"Name\",\n      value: this.state.name,\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"app-input\",\n      type: \"text\",\n      name: \"cccd\",\n      placeholder: \"cccd\",\n      value: this.state.cccd,\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"app-input\",\n      type: \"text\",\n      name: \"phone\",\n      placeholder: \"Phone\",\n      value: this.state.phone,\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"app-input\",\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"Email\",\n      value: this.state.email,\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.changeDetect() ? this.update() : \"\",\n      className: this.changeDetect() ? \"app-button-1\" : \"app-button-1 app-button-1-inactive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Update\"), \" \"), React.createElement(\"div\", {\n      className: \"userwrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrappersmall justifystart regprop\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Properties Registered\"), this.state.propertiesList.map((info, index) => React.createElement(\"div\", {\n      className: \"adminel\",\n      key: \"adminelem-\" + index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"adnumber\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"PID:\"), \" \", info._id), React.createElement(\"div\", {\n      className: \"adaddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Survey Number:\"), \" \", info.surveynumber), React.createElement(\"div\", {\n      className: \"adaddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Type:\"), \" \", info.type), React.createElement(\"div\", {\n      className: \"adTown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"City/Town:\"), \" \", info.citytown), React.createElement(\"div\", {\n      className: \"adTown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"District:\"), \" \", info.district), React.createElement(\"div\", {\n      className: \"adTown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"State:\"), \" \", info.state), React.createElement(\"button\", {\n      onClick: () => this.sale(index),\n      className: \"app-button-2 \" + (info.sale ? \"pendingbg\" : \"approvedbg\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Make it \", info.sale ? \"Unavailable\" : \"Available\", \" for Sale\"))), this.state.propertiesList.length === 0 && React.createElement(\"div\", {\n      className: \"adminel emptyel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Nothing to show here.\")), this.state.search && React.createElement(\"div\", {\n      className: \"wrappersmall\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Search For Properties\"), React.createElement(\"input\", {\n      className: \"app-input\",\n      type: \"text\",\n      name: \"survey\",\n      placeholder: \"Survey Number\",\n      value: this.state.survey,\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.state.survey !== \"\" ? this.search() : \"\",\n      className: this.state.survey !== \"\" ? \"app-button-1\" : \"app-button-1 app-button-1-inactive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Search\")), !this.state.search && React.createElement(\"div\", {\n      className: \"wrappersmall justifystart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Search Results\"), React.createElement(\"div\", {\n      className: \"back-btn\",\n      onClick: () => this.setState({\n        search: true,\n        searchres: [],\n        survey: \"\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"\\xAB\"), this.state.searchres && React.createElement(\"div\", {\n      className: \"adminel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"adTown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Owner:\"), \" \", React.createElement(\"p\", {\n      style: {\n        fontSize: '10px',\n        margin: '5px 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, this.state.searchres.address)), React.createElement(\"div\", {\n      className: \"adnumber\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"PID:\"), \" \", React.createElement(\"span\", {\n      style: {\n        fontSize: '15px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, this.state.searchres._id)), React.createElement(\"div\", {\n      className: \"adaddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Survey Number:\"), \" \", this.state.searchres.surveynumber), React.createElement(\"div\", {\n      className: \"adaddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Type:\"), \" \", this.state.searchres.type), React.createElement(\"div\", {\n      className: \"adTown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"City/Town:\"), \" \", this.state.searchres.citytown), React.createElement(\"div\", {\n      className: \"adTown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"District:\"), \" \", this.state.searchres.district), React.createElement(\"div\", {\n      className: \"adTown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"State:\"), \" \", this.state.searchres.state), React.createElement(\"div\", {\n      className: \"adTown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Market Value:\"), \" \", this.state.searchres.marketvalue), React.createElement(\"div\", {\n      className: \"adTown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Availability:\"), \" \", this.state.searchres.sale && !this.state.searchres.approved ? \"For Sale\" : \"Not for Sale\", \" \"), this.state.searchres.sale && !this.state.searchres.approved && this.state.searchres.address !== this.props.address && React.createElement(\"button\", {\n      onClick: () => this.state.requestssent.some(el => el.propertyid === this.state.searchres._id) ? \"\" : this.request(),\n      className: this.state.requestssent.some(el => el.propertyid === this.state.searchres._id) ? \"app-button-2 app-button-2-inactive\" : \"app-button-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Request Property\")), !this.state.searchres && React.createElement(\"div\", {\n      className: \"adminel emptyel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Not Registered\"))), React.createElement(\"div\", {\n      className: \"userwrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrappersmall justifystart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Requests Sent\"), this.state.requestssent.map((info, index) => React.createElement(\"div\", {\n      className: \"adminel\",\n      key: \"adminelem-\" + index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"adaddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Owner:\"), \" \", React.createElement(\"p\", {\n      style: {\n        fontSize: '10px',\n        margin: '5px 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, info.owner)), React.createElement(\"div\", {\n      className: \"adnumber\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"PID:\"), \" \", React.createElement(\"span\", {\n      style: {\n        fontSize: '15px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, info.propertyid)), React.createElement(\"div\", {\n      className: \"adaddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Survey Number:\"), \" \", info.surveynumber), React.createElement(\"div\", {\n      className: \"adTown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Approval:\"), \" \", React.createElement(\"span\", {\n      className: info.approved === null ? \"pending\" : info.approved ? \"approved\" : \"rejected\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, info.approved === null ? \"Pending\" : info.approved ? \"Approved\" : \"Rejected\")), React.createElement(\"button\", {\n      onClick: () => info.approved === null ? this.withdraw(index) : info.approved ? this.buy(index) : this.deletereqsent(index),\n      className: \"app-button-2 \" + (info.approved === null ? \"pendingbg\" : info.approved ? \"approvedbg\" : \"rejectedbg\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, info.approved === null ? \"Withdraw\" : info.approved ? \"Buy Property\" : \"Delete Request\"))), this.state.requestssent.length === 0 && React.createElement(\"div\", {\n      className: \"adminel emptyel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Nothing to show here.\")), React.createElement(\"div\", {\n      className: \"wrappersmall justifystart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Requests Received\"), this.state.requestsrec.map((info, index) => React.createElement(\"div\", {\n      className: \"adminel\",\n      key: \"adminelem-\" + index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"adaddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Requester:\"), \" \", React.createElement(\"p\", {\n      style: {\n        fontSize: '10px',\n        margin: '5px 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, info.requester)), React.createElement(\"div\", {\n      className: \"adnumber\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"PID:\"), \" \", React.createElement(\"span\", {\n      style: {\n        fontSize: '15px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, info.propertyid)), React.createElement(\"div\", {\n      className: \"adaddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Survey Number:\"), \" \", info.surveynumber), React.createElement(\"div\", {\n      className: \"adTown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Approval:\"), \" \", React.createElement(\"span\", {\n      className: info.approved === null ? \"pending\" : info.approved ? \"approved\" : \"rejected\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, info.approved === null ? \"Pending\" : info.approved ? \"Approved\" : \"Rejected\")), info.approved === null && React.createElement(\"div\", {\n      className: \"divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"app-button-2 approvedbg half-l\",\n      onClick: () => this.approve(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Accept\"), React.createElement(\"button\", {\n      className: \"app-button-2 rejectedbg half-r\",\n      onClick: () => this.reject(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Reject\")))), this.state.requestsrec.length === 0 && React.createElement(\"div\", {\n      className: \"adminel emptyel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"Nothing to show here.\"))));\n  }\n\n}\n\nexport default User;","map":{"version":3,"sources":["C:/Nghuytan/KLTN/dApp/land-registry/client/src/components/user.js"],"names":["React","axios","User","Component","constructor","props","transferProperty","surveynumber","ownerAddress","accounts","contract","methods","changeOwnership","send","from","givePerms","newOwner","givePermission","removePerms","notForSale","handleInput","e","setState","target","name","value","update","post","address","state","phone","email","cccd","then","res","console","log","data","updateUserInfo","search","get","survey","searchres","request","_id","addressrequester","requestssent","approve","index","requestsrec","requester","reject","withdraw","owner","buy","addressto","addressfrom","propertiesList","push","splice","deletereqsent","sale","userinfo","componentDidMount","changeDetect","updatedPhone","updatedName","updatedcccd","updatedEmail","render","map","info","type","citytown","district","length","fontSize","margin","marketvalue","approved","some","el","propertyid"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport './user.css';\r\n\r\nclass User extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { ...this.props.userinfo, propertiesList: [], search: true, survey: \"\" }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('http://localhost:5000/api/properties/user/' + this.props.address)\r\n            .then(res => {\r\n                console.log(res)\r\n                this.setState({ propertiesList: res.data })\r\n            })\r\n    }\r\n\r\n    transferProperty = async (surveynumber, ownerAddress) => {\r\n        const { accounts, contract } = this.props;\r\n        await contract.methods.changeOwnership(surveynumber, ownerAddress).send({ from: accounts[0] });\r\n    }\r\n\r\n    givePerms = async (surveynumber, newOwner) => {\r\n        const { accounts, contract } = this.props;\r\n        await contract.methods.givePermission(surveynumber, newOwner).send({ from: accounts[0] });\r\n    }\r\n\r\n    removePerms = async (surveynumber) => {\r\n        const { accounts, contract } = this.props;\r\n        await contract.methods.notForSale(surveynumber).send({ from: accounts[0] });\r\n    }\r\n\r\n    handleInput = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    changeDetect() {\r\n        let { phone, name, cccd, email } = this.props.userinfo\r\n        let { phone: updatedPhone, name: updatedName, cccd: updatedcccd, email: updatedEmail } = this.state\r\n        if (phone === updatedPhone && name === updatedName && cccd === updatedcccd && email === updatedEmail) {\r\n            return false\r\n        } else {\r\n            return true\r\n        }\r\n    }\r\n\r\n    update = () => {\r\n        axios.post('http://localhost:5000/api/user/update/' + this.props.address, { name: this.state.name, phone: this.state.phone, email: this.state.email, cccd: this.state.cccd })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                this.props.updateUserInfo(res.data)\r\n            })\r\n    }\r\n\r\n    search = () => {\r\n        axios.get('http://localhost:5000/api/properties/' + this.state.survey)\r\n            .then(res => {\r\n                console.log(res)\r\n                this.setState({ searchres: res.data, search: false })\r\n            })\r\n    }\r\n\r\n    request = () => {\r\n        axios.post('http://localhost:5000/api/properties/request/' + this.state.searchres._id, { addressrequester: this.props.address })\r\n            .then(res => {\r\n                this.setState({ requestssent: res.data })\r\n            })\r\n    }\r\n\r\n    approve = async (index) => {\r\n        await this.givePerms(this.state.requestsrec[index].surveynumber, this.state.requestsrec[index].requester)\r\n        axios.post('http://localhost:5000/api/user/approverequests/' + this.state.requestsrec[index].surveynumber, { address: this.props.address, addressrequester: this.state.requestsrec[index].requester })\r\n            .then(res => {\r\n                this.setState({ requestsrec: res.data })\r\n            })\r\n    }\r\n\r\n    reject = (index) => {\r\n        axios.post('http://localhost:5000/api/user/rejectrequests/' + this.state.requestsrec[index].surveynumber, { address: this.props.address, addressrequester: this.state.requestsrec[index].requester })\r\n            .then(res => {\r\n                this.setState({ requestsrec: res.data })\r\n            })\r\n    }\r\n\r\n    withdraw = (index) => {\r\n        axios.post('http://localhost:5000/api/user/requestssent/' + this.state.requestssent[index].surveynumber, { address: this.props.address, owner: this.state.requestssent[index].owner })\r\n            .then(res => {\r\n                this.setState({ requestssent: res.data })\r\n            })\r\n    }\r\n\r\n    buy = async (index) => {\r\n        await this.transferProperty(this.state.requestssent[index].surveynumber, this.state.requestssent[index].owner)\r\n        axios.post('http://localhost:5000/api/properties/transfer/' + this.state.requestssent[index].surveynumber, { addressto: this.props.address, addressfrom: this.state.requestssent[index].owner })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                let propertiesList = this.state.propertiesList;\r\n                propertiesList.push(res.data);\r\n                let requestssent = this.state.requestssent;\r\n                requestssent.splice(index, 1);\r\n                this.setState({ propertiesList, requestssent })\r\n            })\r\n    }\r\n\r\n    deletereqsent = (index) => {\r\n        axios.post('http://localhost:5000/api/user/delrequestssent/' + this.state.requestssent[index].surveynumber, { address: this.props.address, owner: this.state.requestssent[index].owner })\r\n            .then(res => {\r\n                console.log(res.data);\r\n                this.setState({ requestssent: res.data })\r\n            })\r\n    }\r\n\r\n    sale = async (index) => {\r\n        if (this.state.propertiesList[index].sale) {\r\n            await this.removePerms(this.state.propertiesList[index].surveynumber)\r\n        }\r\n        axios.post('http://localhost:5000/api/properties/sale/' + this.state.propertiesList[index].surveynumber, { address: this.props.address })\r\n            .then(res => {\r\n                let propertiesList = this.state.propertiesList\r\n                if (!this.state.propertiesList[index].sale) {\r\n                    propertiesList[index].sale = res.data;\r\n                    this.setState({ propertiesList })\r\n                } else {\r\n                    console.log(res.data)\r\n                    propertiesList[index].sale = false;\r\n                    this.setState({ requestsrec: res.data, propertiesList })\r\n                }\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"superadmin user\">\r\n                <div className=\"wrapper\">\r\n                    <h2>Personal Details</h2>\r\n                    <input className=\"app-input\" type=\"text\" name=\"name\" placeholder=\"Name\" value={this.state.name} onChange={this.handleInput} />\r\n                    <input className=\"app-input\" type=\"text\" name=\"cccd\" placeholder=\"cccd\" value={this.state.cccd} onChange={this.handleInput} />\r\n                    <input className=\"app-input\" type=\"text\" name=\"phone\" placeholder=\"Phone\" value={this.state.phone} onChange={this.handleInput} />\r\n                    <input className=\"app-input\" type=\"text\" name=\"email\" placeholder=\"Email\" value={this.state.email} onChange={this.handleInput} />\r\n                    <button onClick={() => this.changeDetect() ? this.update() : \"\"} className={this.changeDetect() ? \"app-button-1\" : \"app-button-1 app-button-1-inactive\"}>Update</button> {/*Disabled*/}\r\n                </div>\r\n                <div className=\"userwrap\">\r\n                    <div className=\"wrappersmall justifystart regprop\">\r\n                        <h2>Properties Registered</h2>\r\n                        {this.state.propertiesList.map((info, index) => (\r\n                            <div className=\"adminel\" key={\"adminelem-\" + index}>\r\n                                <div className=\"adnumber\"><strong>PID:</strong> {info._id}</div>\r\n                                <div className=\"adaddress\"><strong>Survey Number:</strong> {info.surveynumber}</div>\r\n                                <div className=\"adaddress\"><strong>Type:</strong> {info.type}</div>\r\n                                <div className=\"adTown\"><strong>City/Town:</strong> {info.citytown}</div>\r\n                                <div className=\"adTown\"><strong>District:</strong> {info.district}</div>\r\n                                <div className=\"adTown\"><strong>State:</strong> {info.state}</div>\r\n                                <button onClick={() => this.sale(index)} className={\"app-button-2 \" + (info.sale ? \"pendingbg\" : \"approvedbg\")}>Make it {info.sale ? \"Unavailable\" : \"Available\"} for Sale</button>\r\n                            </div>\r\n                        ))}\r\n                        {this.state.propertiesList.length === 0 && <div className=\"adminel emptyel\">\r\n                            Nothing to show here.\r\n                        </div>}\r\n                    </div>\r\n                    {this.state.search && <div className=\"wrappersmall\">\r\n                        <h2>Search For Properties</h2>\r\n                        <input className=\"app-input\" type=\"text\" name=\"survey\" placeholder=\"Survey Number\" value={this.state.survey} onChange={this.handleInput} />\r\n                        <button onClick={() => (this.state.survey !== \"\") ? this.search() : \"\"} className={(this.state.survey !== \"\") ? \"app-button-1\" : \"app-button-1 app-button-1-inactive\"}>Search</button></div>}\r\n                    {!this.state.search && <div className=\"wrappersmall justifystart\">\r\n                        <h2>Search Results</h2>\r\n                        <div className=\"back-btn\" onClick={() => this.setState({ search: true, searchres: [], survey: \"\" })}></div>\r\n                        {this.state.searchres && <div className=\"adminel\">\r\n                            <div className=\"adTown\"><strong>Owner:</strong> <p style={{ fontSize: '10px', margin: '5px 0' }}>{this.state.searchres.address}</p></div>\r\n                            <div className=\"adnumber\"><strong>PID:</strong> <span style={{ fontSize: '15px' }}>{this.state.searchres._id}</span></div>\r\n                            <div className=\"adaddress\"><strong>Survey Number:</strong> {this.state.searchres.surveynumber}</div>\r\n                            <div className=\"adaddress\"><strong>Type:</strong> {this.state.searchres.type}</div>\r\n                            <div className=\"adTown\"><strong>City/Town:</strong> {this.state.searchres.citytown}</div>\r\n                            <div className=\"adTown\"><strong>District:</strong> {this.state.searchres.district}</div>\r\n                            <div className=\"adTown\"><strong>State:</strong> {this.state.searchres.state}</div>\r\n                            <div className=\"adTown\"><strong>Market Value:</strong> {this.state.searchres.marketvalue}</div>\r\n                            <div className=\"adTown\"><strong>Availability:</strong> {(this.state.searchres.sale && !this.state.searchres.approved) ? \"For Sale\" : \"Not for Sale\"} </div>\r\n                            {this.state.searchres.sale && !this.state.searchres.approved && (this.state.searchres.address !== this.props.address) && <button onClick={() => this.state.requestssent.some(el => el.propertyid === this.state.searchres._id) ? \"\" : this.request()} className={this.state.requestssent.some(el => el.propertyid === this.state.searchres._id) ? \"app-button-2 app-button-2-inactive\" : \"app-button-2\"} >Request Property</button>}\r\n                        </div>}\r\n                        {!this.state.searchres && <div className=\"adminel emptyel\">\r\n                            Not Registered\r\n                        </div>}\r\n                    </div>}\r\n                </div>\r\n                <div className=\"userwrap\">\r\n                    <div className=\"wrappersmall justifystart\">\r\n                        <h2>Requests Sent</h2>\r\n                        {this.state.requestssent.map((info, index) => (\r\n                            <div className=\"adminel\" key={\"adminelem-\" + index}>\r\n                                <div className=\"adaddress\"><strong>Owner:</strong> <p style={{ fontSize: '10px', margin: '5px 0' }}>{info.owner}</p></div>\r\n                                <div className=\"adnumber\"><strong>PID:</strong> <span style={{ fontSize: '15px' }}>{info.propertyid}</span></div>\r\n                                <div className=\"adaddress\"><strong>Survey Number:</strong> {info.surveynumber}</div>\r\n                                <div className=\"adTown\"><strong>Approval:</strong> <span className={(info.approved === null) ? \"pending\" : (info.approved) ? \"approved\" : \"rejected\"}>{(info.approved === null) ? \"Pending\" : (info.approved) ? \"Approved\" : \"Rejected\"}</span></div>\r\n                                <button onClick={() => (info.approved === null) ? this.withdraw(index) : (info.approved) ? this.buy(index) : this.deletereqsent(index)} className={\"app-button-2 \" + ((info.approved === null) ? \"pendingbg\" : (info.approved) ? \"approvedbg\" : \"rejectedbg\")} >{(info.approved === null) ? \"Withdraw\" : (info.approved) ? \"Buy Property\" : \"Delete Request\"}</button>\r\n                            </div>\r\n                        ))}\r\n                        {this.state.requestssent.length === 0 && <div className=\"adminel emptyel\">\r\n                            Nothing to show here.\r\n                        </div>}\r\n                    </div>\r\n                    <div className=\"wrappersmall justifystart\">\r\n                        <h2>Requests Received</h2>\r\n                        {this.state.requestsrec.map((info, index) => (\r\n                            <div className=\"adminel\" key={\"adminelem-\" + index}>\r\n                                <div className=\"adaddress\"><strong>Requester:</strong> <p style={{ fontSize: '10px', margin: '5px 0' }}>{info.requester}</p></div>\r\n                                <div className=\"adnumber\"><strong>PID:</strong> <span style={{ fontSize: '15px' }}>{info.propertyid}</span></div>\r\n                                <div className=\"adaddress\"><strong>Survey Number:</strong> {info.surveynumber}</div>\r\n                                <div className=\"adTown\"><strong>Approval:</strong> <span className={(info.approved === null) ? \"pending\" : (info.approved) ? \"approved\" : \"rejected\"}>{(info.approved === null) ? \"Pending\" : (info.approved) ? \"Approved\" : \"Rejected\"}</span></div>\r\n                                {(info.approved === null) && <div className=\"divider\">\r\n                                    <button className=\"app-button-2 approvedbg half-l\" onClick={() => this.approve(index)}>Accept</button>\r\n                                    <button className=\"app-button-2 rejectedbg half-r\" onClick={() => this.reject(index)} >Reject</button>\r\n                                </div>}\r\n                            </div>\r\n                        ))}\r\n                        {this.state.requestsrec.length === 0 && <div className=\"adminel emptyel\">\r\n                            Nothing to show here.\r\n                        </div>}\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default User"]},"metadata":{},"sourceType":"module"}